<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>sht_Player</name>
    <events>
        <comment>KeyCodes = https://www.cambiaresearch.com/articles/15/javascript-char-codes-key-codes</comment>
        <variable comment="1 Key" constant="0" name="keyboard_skill_1" sid="647895916050373" static="0" type="number">49</variable>
        <variable comment=" 2 Key" constant="0" name="keyboard_skill_2" sid="109441706929297" static="0" type="number">50</variable>
        <variable comment="3 Key" constant="0" name="keyboard_skill_3" sid="778446396076601" static="0" type="number">51</variable>
        <variable comment="4 Key" constant="0" name="keyboard_skill_4" sid="863823576210883" static="0" type="number">52</variable>
        <variable constant="0" name="currentGold" sid="873160719585768" static="0" type="number">10</variable>
        <variable constant="0" name="cooldownMult" sid="887694450832794" static="0" type="number">100</variable>
        <variable constant="0" name="piercingDamageReducedMult" sid="834574455955930" static="0" type="number">1.5</variable>
        <variable constant="0" name="skillBoostDamageMult" sid="882717653697611" static="0" type="number">1</variable>
        <variable constant="0" name="fireballDamageMult" sid="460614499871285" static="0" type="number">1</variable>
        <variable constant="0" name="enableHealthRecovery" sid="243523597511899" static="0" type="number">0</variable>
        <variable constant="0" name="stunAOE" sid="676642794914244" static="0" type="number">0</variable>
        <variable constant="0" name="itemCostMult" sid="456608512272710" static="0" type="number">1</variable>
        <variable constant="0" name="enemyKilled" sid="863907697903894" static="0" type="number">0</variable>
        <event-group description="Dictionary Mage.json" sid="926729626211004" title="Load JSON Values">
            <sub-events>
                <event-block sid="326741241332894">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="126430906359728" type="System" />
                    </conditions>
                    <actions>
                        <action id="1" name="Request project file" sid="168774238481784" type="AJAX">
                            <param id="0" name="Tag">&quot;Mage&quot;</param>
                            <param id="1" name="File">Mage.json</param>
                        </action>
                        <action id="-5" name="Set width" sid="214182892773123" type="ui_floatingHealthBar">
                            <param id="0" name="Width">playableCharacters.maxHealth</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="930516963615613">
                    <conditions>
                        <condition id="0" name="On completed" sid="198790891607140" type="AJAX">
                            <param id="0" name="Tag">&quot;Mage&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="4" name="Load" sid="678167642690467" type="playerDictionary">
                            <param id="0" name="JSON">AJAX.LastData</param>
                        </action>
                        <action behavior="MoveTo" id="1" name="Set maximum speed" sid="251268677630681" type="playableCharacters">
                            <param id="0" name="Max speed">playerDictionary.Get(&quot;moveSpeed&quot;)</param>
                        </action>
                        <action id="-10" name="Set value" sid="626408770006340" type="playableCharacters">
                            <param id="0" name="Instance variable">curHealth</param>
                            <param id="1" name="Value">playerDictionary.Get(&quot;defHealth&quot;)</param>
                        </action>
                        <action id="-10" name="Set value" sid="897733959265700" type="playableCharacters">
                            <param id="0" name="Instance variable">maxHealth</param>
                            <param id="1" name="Value">playerDictionary.Get(&quot;defHealth&quot;)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <comment>Skill Cooldowns and Control</comment>
        <event-group description="" inactive="1" sid="459688411246597" title="Mage Attack">
            <sub-events>
                <comment>AutoAttack</comment>
                <variable constant="0" name="autoAttackCooldown" sid="500350159233835" static="1" type="number">0</variable>
                <event-block sid="979347367905257">
                    <conditions>
                        <condition id="2" name="Mouse button is down" sid="449915891977438" type="Mouse">
                            <param id="0" name="Mouse button">0</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="199456058150159" type="System">
                            <param id="0" name="Variable">autoAttackCooldown</param>
                            <param id="1" name="Comparison">3</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-3" name="Create object" sid="252643744155259" type="System">
                            <param id="0" name="Object to create">proj_manaBullet</param>
                            <param id="1" name="Layer">(&quot;Game&quot;)</param>
                            <param id="2" name="X">playableCharacters.X</param>
                            <param id="3" name="Y">playableCharacters.Y</param>
                        </action>
                        <action id="-22" name="Set angle toward position" sid="927718312429527" type="proj_manaBullet">
                            <param id="0" name="X">Mouse.X(&quot;Game&quot;)</param>
                            <param id="1" name="Y">Mouse.Y(&quot;Game&quot;)</param>
                        </action>
                        <action behavior="Bullet" id="0" name="Set speed" sid="338954228803912" type="proj_manaBullet">
                            <param id="0" name="Speed">playerDictionary.Get(&quot;autoSpeed&quot;)</param>
                        </action>
                        <action id="-10" name="Set value" sid="447646911758083" type="proj_manaBullet">
                            <param id="0" name="Instance variable">damage</param>
                            <param id="1" name="Value">playerDictionary.Get(&quot;autoDamage&quot;) + (playerDictionary.Get(&quot;autoDamagePerLevel&quot;) * playableCharacters.curLevel)</param>
                        </action>
                        <action id="-9" name="Set value" sid="979432690866450" type="System">
                            <param id="0" name="Variable">autoAttackCooldown</param>
                            <param id="1" name="Value">playerDictionary.Get(&quot;autoCooldown&quot;)</param>
                        </action>
                        <action id="7" name="Play (by name)" sid="145745086393267" type="Audio">
                            <param id="0" name="Folder">0</param>
                            <param id="1" name="Audio file name">&quot;mageShootSound&quot;</param>
                            <param id="3" name="Loop">0</param>
                            <param id="4" name="Volume">sfxVolume</param>
                            <param id="2" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="719468344690195">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="160082890501022" type="System">
                            <param id="0" name="Variable">autoAttackCooldown</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Subtract from" sid="346114025816160" type="System">
                            <param id="0" name="Variable">autoAttackCooldown</param>
                            <param id="1" name="Value">100 * dt</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="196060225350299">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="984739773092556" type="proj_manaBullet">
                            <param id="0" name="Object">enemyMinions</param>
                        </condition>
                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="402746988111231" type="enemyMinions">
                            <param id="0" name="Instance variable">notActuallyEnemy</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="400853363365900" type="enemyMinions">
                            <param id="0" name="Instance variable">curHealth</param>
                            <param id="1" name="Value">proj_manaBullet.damage</param>
                        </action>
                        <action id="0" name="Call function" sid="163283271746146" type="Function">
                            <param id="0" name="Name">&quot;enemyHit&quot;</param>
                            <param id="1" name="Parameter {n}"></param>
                        </action>
                        <action id="-9" name="Destroy" sid="335265007871930" type="proj_manaBullet" />
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="757036493176098" title="Mage Movement">
            <sub-events>
                <event-block sid="717470471168164">
                    <conditions>
                        <condition behavior="MoveTo" id="4" name="Compare moving angle" sid="880842791248373" type="playableCharacters">
                            <param id="0" name="Comparison">4</param>
                            <param id="1" name="Angle">90</param>
                        </condition>
                        <condition behavior="MoveTo" id="4" name="Compare moving angle" sid="262635838515287" type="playableCharacters">
                            <param id="0" name="Comparison">2</param>
                            <param id="1" name="Angle">270</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="7" name="Set mirrored" sid="155004773264569" type="playableCharacters">
                            <param id="0" name="State">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="918565985762046">
                    <conditions>
                        <condition id="-22" name="Else" sid="972967440727916" type="System" />
                    </conditions>
                    <actions>
                        <action id="7" name="Set mirrored" sid="768623208430482" type="playableCharacters">
                            <param id="0" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Key to move</comment>
                <event-block sid="197218354202789">
                    <conditions>
                        <condition id="2" name="Key is down" sid="478865001829445" type="Keyboard">
                            <param id="0" name="Key">87</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="751623108821407" type="playableCharacters">
                            <param id="0" name="Control">2</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="545958025293390">
                    <conditions>
                        <condition id="2" name="Key is down" sid="120459329999748" type="Keyboard">
                            <param id="0" name="Key">65</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="498680204024956" type="playableCharacters">
                            <param id="0" name="Control">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="874901679293506">
                    <conditions>
                        <condition id="2" name="Key is down" sid="839423641526253" type="Keyboard">
                            <param id="0" name="Key">68</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="332061193154155" type="playableCharacters">
                            <param id="0" name="Control">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="168400441084247">
                    <conditions>
                        <condition id="2" name="Key is down" sid="892967089958994" type="Keyboard">
                            <param id="0" name="Key">83</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action behavior="8Direction" id="7" name="Simulate control" sid="530668644298736" type="playableCharacters">
                            <param id="0" name="Control">3</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="529159819983491" title="Mage Skills">
            <sub-events>
                <event-block sid="612339623005443">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="925570291838624" type="System" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="933075615006861">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="847740268924374" type="ui_iconProgress">
                                    <param id="0" name="Unique ID">52</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-5" name="Set width" sid="172821812225014" type="ui_iconProgress">
                                    <param id="0" name="Width">Self.maxSize -  (Self.maxSize * (ui_1skillbar.Progress/100))</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="746029313406371">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="280437951673651" type="ui_iconProgress">
                                    <param id="0" name="Unique ID">8</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-5" name="Set width" sid="231088704988438" type="ui_iconProgress">
                                    <param id="0" name="Width">Self.maxSize - (Self.maxSize * (ui_2skillbar.Progress/100))</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="383328846227862">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="948996585651390" type="ui_iconProgress">
                                    <param id="0" name="Unique ID">160</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-5" name="Set width" sid="721729377222637" type="ui_iconProgress">
                                    <param id="0" name="Width">Self.maxSize - (Self.maxSize * (ui_3skillbar.Progress/100))</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="863208128767494">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="878391557752444" type="ui_iconProgress">
                                    <param id="0" name="Unique ID">161</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-5" name="Set width" sid="675913016362075" type="ui_iconProgress">
                                    <param id="0" name="Width">Self.maxSize - (Self.maxSize * (ui_4skillbar.Progress/100))</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="268349114538161">
                    <conditions>
                        <condition id="0" name="On function" sid="269125038670271" type="Function">
                            <param id="0" name="Name">&quot;skillUi&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="1" name="Set return value" sid="603387750051233" type="Function">
                            <param id="0" name="Value">Function.Param(0) + ((cooldownMult * ( cooldownMult / Function.Param(1)) * dt))</param>
                        </action>
                    </actions>
                </event-block>
                <event-group description="Skill goes through enemies, dealing less each time" sid="986332771044728" title="Laser">
                    <sub-events>
                        <comment>When skill is in cooldown</comment>
                        <event-block sid="604983729891461">
                            <conditions>
                                <condition id="1" name="Compare progress" sid="228580466840728" type="ui_1skillbar">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="Value">100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="3" name="Set progress" sid="790039874374030" type="ui_1skillbar">
                                    <param id="0" name="Value">Function.Call(&quot;skillUI&quot;, ui_1skillbar.Progress, playerDictionary.Get(&quot;laserCooldown&quot;))</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>shoot when pressed; Plan: when button is held, show a targetting line</comment>
                        <event-block sid="176176965620322">
                            <conditions>
                                <condition id="5" name="Key code is down" sid="792063304679028" type="Keyboard">
                                    <param id="0" name="Keycode">keyboard_skill_1</param>
                                </condition>
                                <condition id="1" name="Compare progress" sid="748749311546331" type="ui_1skillbar">
                                    <param id="0" name="Comparison">5</param>
                                    <param id="1" name="Value">100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="ScrollTo" id="0" name="Shake" sid="812550660032220" type="playableCharacters">
                                    <param id="0" name="Magnitude">10 * (1 + (1.5 - piercingDamageReducedMult))</param>
                                    <param id="1" name="Duration">0.3</param>
                                    <param id="2" name="Mode">0</param>
                                </action>
                                <action id="-3" name="Create object" sid="400589075328851" type="System">
                                    <param id="0" name="Object to create">proj_laser</param>
                                    <param id="1" name="Layer">(&quot;Game&quot;)</param>
                                    <param id="2" name="X">playableCharacters.X</param>
                                    <param id="3" name="Y">playableCharacters.Y</param>
                                </action>
                                <action id="9" name="Set scale" sid="183728194094937" type="proj_laser">
                                    <param id="0" name="Scale">1 * (1 + (1.5 -  piercingDamageReducedMult))</param>
                                </action>
                                <action id="-22" name="Set angle toward position" sid="677627853567992" type="proj_laser">
                                    <param id="0" name="X">Mouse.X(&quot;Game&quot;)</param>
                                    <param id="1" name="Y">Mouse.Y(&quot;Game&quot;)</param>
                                </action>
                                <action id="-22" name="Set angle toward position" sid="741955341271949" type="par_laserPath">
                                    <param id="0" name="X">Mouse.X(&quot;Game&quot;)</param>
                                    <param id="1" name="Y">Mouse.Y(&quot;Game&quot;)</param>
                                </action>
                                <action id="3" name="Set progress" sid="596086787975872" type="ui_1skillbar">
                                    <param id="0" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>when button is released</comment>
                        <event-block sid="902059733958512">
                            <conditions>
                                <condition id="-18" name="On created" sid="934585112863333" type="proj_laser" />
                            </conditions>
                            <actions>
                                <action behavior="Bullet" id="0" name="Set speed" sid="677737005759490" type="proj_laser">
                                    <param id="0" name="Speed">playerDictionary.Get(&quot;laserSpeed&quot;)</param>
                                </action>
                                <action id="-10" name="Set value" sid="796100821707537" type="proj_laser">
                                    <param id="0" name="Instance variable">isPiercing</param>
                                    <param id="1" name="Value">playerDictionary.Get(&quot;laserPiercing&quot;)</param>
                                </action>
                                <action id="-10" name="Set value" sid="711673874862886" type="proj_laser">
                                    <param id="0" name="Instance variable">damage</param>
                                    <param id="1" name="Value">playerDictionary.Get(&quot;laserDamage&quot;) * skillBoostDamageMult</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="726011571591514" type="proj_laser">
                                    <param id="0" name="Instance variable">isFired</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="25" name="Play at object" sid="846982258724003" type="Audio">
                                    <param id="0" name="Audio file">Laser Beam</param>
                                    <param id="1" name="Loop">0</param>
                                    <param id="2" name="Volume">sfxVolume</param>
                                    <param id="3" name="Object">playableCharacters</param>
                                    <param id="4" name="Inner angle">360</param>
                                    <param id="5" name="Outer angle">360</param>
                                    <param id="6" name="Outer gain">0</param>
                                    <param id="7" name="Tag (optional)">&quot;&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="934091332211843">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="184112985049768" type="proj_laser">
                                    <param id="0" name="Instance variable">isFired</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-4" name="Set position to another object" sid="847743645416351" type="par_laserPath">
                                    <param id="0" name="Object">proj_laser</param>
                                    <param id="1" name="Image point (optional)">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="623494460637898">
                                    <conditions>
                                        <condition id="0" name="On collision with another object" sid="339999213542930" type="proj_laser">
                                            <param id="0" name="Object">enemyMinions</param>
                                        </condition>
                                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="105483078015631" type="enemyMinions">
                                            <param id="0" name="Instance variable">notActuallyEnemy</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="544671680922170">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="351974215332422" type="enemyMinions">
                                                    <param id="0" name="Instance variable">isTank</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">0</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-12" name="Subtract from" sid="879124760676671" type="enemyMinions">
                                                    <param id="0" name="Instance variable">curHealth</param>
                                                    <param id="1" name="Value">proj_laser.damage</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="990138536063461" type="proj_laser">
                                                    <param id="0" name="Instance variable">damage</param>
                                                    <param id="1" name="Value">(proj_laser.damage / piercingDamageReducedMult) - 1</param>
                                                </action>
                                                <action id="0" name="Call function" sid="319926433894587" type="Function">
                                                    <param id="0" name="Name">&quot;enemyHit&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="887846663310742">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="877976748303033" type="System" />
                                            </conditions>
                                            <actions>
                                                <action behavior="ScrollTo" id="0" name="Shake" sid="640420902851811" type="playableCharacters">
                                                    <param id="0" name="Magnitude">20</param>
                                                    <param id="1" name="Duration">0.6</param>
                                                    <param id="2" name="Mode">0</param>
                                                </action>
                                                <action id="-12" name="Subtract from" sid="861482485099763" type="enemyMinions">
                                                    <param id="0" name="Instance variable">curHealth</param>
                                                    <param id="1" name="Value">proj_laser.damage</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="186782671828873" type="proj_laser">
                                                    <param id="0" name="Instance variable">damage</param>
                                                    <param id="1" name="Value">proj_laser.damage * (1.5 - piercingDamageReducedMult)</param>
                                                </action>
                                                <action id="0" name="Play" sid="958996750042333" type="Audio">
                                                    <param id="0" name="Audio file">tankHitLaser</param>
                                                    <param id="2" name="Loop">0</param>
                                                    <param id="3" name="Volume">0</param>
                                                    <param id="1" name="Tag (optional)">&quot;&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block any="1" sid="964839525970033">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="963362209009960" type="proj_laser">
                                            <param id="0" name="Instance variable">isPiercing</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="517357612715407" type="proj_laser">
                                            <param id="0" name="Instance variable">damage</param>
                                            <param id="1" name="Comparison">3</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Destroy" sid="240884122928320" type="proj_laser" />
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="Summons a wall, that stops enemy projectiles" sid="622239753525240" title="Erect Wall">
                    <sub-events>
                        <variable constant="0" name="blinkStatus" sid="610920008050029" static="1" type="number">0</variable>
                        <comment>When skill is in cooldown</comment>
                        <event-block sid="834224363764174">
                            <conditions>
                                <condition id="1" name="Compare progress" sid="145761198666549" type="ui_2skillbar">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="Value">100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="3" name="Set progress" sid="662674735528029" type="ui_2skillbar">
                                    <param id="0" name="Value">Function.Call(&quot;skillUI&quot;, ui_2skillbar.Progress, playerDictionary.Get(&quot;blinkCooldown&quot;))</param>
                                </action>
                            </actions>
                        </event-block>
                        <variable constant="0" name="blinkDistance" sid="970098222752669" static="1" type="number">0</variable>
                        <comment>when button is held, show wall target</comment>
                        <event-block sid="462120461361432">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="470328855570095" type="System">
                                    <param id="0" name="Variable">blinkStatus</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="837812604773167">
                                    <conditions>
                                        <condition id="5" name="Key code is down" sid="989697414327958" type="Keyboard">
                                            <param id="0" name="Keycode">keyboard_skill_2</param>
                                        </condition>
                                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="278975414309298" type="obj_playerMage">
                                            <param id="0" name="Instance variable">isBlinkFinished</param>
                                        </condition>
                                        <condition id="1" name="Compare progress" sid="442506757240999" type="ui_2skillbar">
                                            <param id="0" name="Comparison">5</param>
                                            <param id="1" name="Value">100</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="461338779044417" type="System">
                                            <param id="0" name="Object to create">par_blinkTarget</param>
                                            <param id="1" name="Layer">&quot;Game&quot;</param>
                                            <param id="2" name="X">Mouse.X(&quot;Game&quot;)</param>
                                            <param id="3" name="Y">Mouse.Y(&quot;Game&quot;)</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="281654314027041" type="System">
                                            <param id="0" name="Variable">blinkStatus</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="759023539517243">
                            <conditions>
                                <condition id="-22" name="Else" sid="589916211692041" type="System" />
                            </conditions>
                            <actions>
                                <action id="-3" name="Set position" sid="345130236441107" type="par_blinkTarget">
                                    <param id="0" name="X">Mouse.X(&quot;Game&quot;)</param>
                                    <param id="1" name="Y">Mouse.Y(&quot;Game&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>when button released erect with a bit of delay</comment>
                        <event-block sid="817354173524220">
                            <conditions>
                                <condition id="6" name="On key code released" sid="661586396118085" type="Keyboard">
                                    <param id="0" name="Keycode">keyboard_skill_2</param>
                                </condition>
                                <condition id="1" name="Compare progress" sid="459942222825017" type="ui_2skillbar">
                                    <param id="0" name="Comparison">5</param>
                                    <param id="1" name="Value">100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Timer" id="0" name="Start timer" sid="856008909014412" type="playableCharacters">
                                    <param id="0" name="Duration">0.2</param>
                                    <param id="1" name="Type">0</param>
                                    <param id="2" name="Tag">&quot;blinking&quot;</param>
                                </action>
                                <action id="3" name="Set progress" sid="407678927314323" type="ui_2skillbar">
                                    <param id="0" name="Value">0</param>
                                </action>
                                <action id="-9" name="Set value" sid="137396430150776" type="System">
                                    <param id="0" name="Variable">blinkStatus</param>
                                    <param id="1" name="Value">2</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="507658594700858">
                            <conditions>
                                <condition behavior="Timer" id="0" name="On timer" sid="250098888216009" type="playableCharacters">
                                    <param id="0" name="Tag">&quot;blinking&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="889663623706107">
                                    <conditions />
                                    <actions>
                                        <action id="-3" name="Create object" sid="979563985307182" type="System">
                                            <param id="0" name="Object to create">obj_archerTower</param>
                                            <param id="1" name="Layer">&quot;Game&quot;</param>
                                            <param id="2" name="X">par_blinkTarget.X</param>
                                            <param id="3" name="Y">par_blinkTarget.Y</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="442608225692574" type="obj_archerTower">
                                            <param id="0" name="Instance variable">curHealth</param>
                                            <param id="1" name="Value">Self.curHealth * skillBoostDamageMult</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="102719827505865" type="obj_archerTower">
                                            <param id="0" name="Instance variable">maxHealth</param>
                                            <param id="1" name="Value">Self.maxHealth * skillBoostDamageMult</param>
                                        </action>
                                        <action id="0" name="Spawn another object" sid="663556869653388" type="obj_archerTower">
                                            <param id="0" name="Object">par_blinkOut</param>
                                            <param id="1" name="Layer">(&quot;Game&quot;)</param>
                                            <param id="2" name="Image point">0</param>
                                        </action>
                                        <action id="0" name="Play" sid="268469457731804" type="Audio">
                                            <param id="0" name="Audio file">wallErectSound</param>
                                            <param id="2" name="Loop">0</param>
                                            <param id="3" name="Volume">sfxVolume</param>
                                            <param id="1" name="Tag (optional)">&quot;&quot;</param>
                                        </action>
                                        <action id="-13" name="Set boolean" sid="760989840657858" type="obj_playerMage">
                                            <param id="0" name="Instance variable">isBlinkFinished</param>
                                            <param id="1" name="Value">1</param>
                                        </action>
                                        <action id="-9" name="Destroy" sid="822696390444221" type="par_blinkTarget" />
                                        <action id="-9" name="Set value" sid="673686235176952" type="System">
                                            <param id="0" name="Variable">blinkStatus</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="582140358242538">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="403297253611493" type="obj_playerMage">
                                    <param id="0" name="Instance variable">isBlinkFinished</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="778604279984744" type="obj_playerMage">
                                    <param id="0" name="Instance variable">isBlinkFinished</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="Stuns an enemy" sid="731190515956892" title="Stun">
                    <sub-events>
                        <event-block sid="307830200330403">
                            <conditions>
                                <condition id="1" name="Compare progress" sid="582151566321613" type="ui_3skillbar">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="Value">100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="3" name="Set progress" sid="127849890977468" type="ui_3skillbar">
                                    <param id="0" name="Value">Function.Call(&quot;skillUI&quot;, ui_3skillbar.Progress, playerDictionary.Get(&quot;stunCooldown&quot;))</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="104184133853585">
                            <conditions>
                                <condition id="5" name="Key code is down" sid="873518095073564" type="Keyboard">
                                    <param id="0" name="Keycode">keyboard_skill_3</param>
                                </condition>
                                <condition id="1" name="Compare progress" sid="401536551379163" type="ui_3skillbar">
                                    <param id="0" name="Comparison">5</param>
                                    <param id="1" name="Value">100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="665391361500703" type="System">
                                    <param id="0" name="Object to create">proj_stunBullet</param>
                                    <param id="1" name="Layer">&quot;Game&quot;</param>
                                    <param id="2" name="X">playableCharacters.X</param>
                                    <param id="3" name="Y">playableCharacters.Y</param>
                                </action>
                                <action id="-22" name="Set angle toward position" sid="117850700546418" type="proj_stunBullet">
                                    <param id="0" name="X">Mouse.X(&quot;Game&quot;)</param>
                                    <param id="1" name="Y">Mouse.Y(&quot;Game&quot;)</param>
                                </action>
                                <action id="-22" name="Set angle toward position" sid="407786796563675" type="stunBulletEffects">
                                    <param id="0" name="X">Mouse.X(&quot;Game&quot;)</param>
                                    <param id="1" name="Y">Mouse.Y(&quot;Game&quot;)</param>
                                </action>
                                <action id="3" name="Set progress" sid="817680760954162" type="ui_3skillbar">
                                    <param id="0" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="736585766451405">
                            <conditions>
                                <condition id="-18" name="On created" sid="953837522430731" type="proj_stunBullet" />
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="570277827700106" type="proj_stunBullet">
                                    <param id="0" name="Instance variable">isFired</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="602081932651450" type="proj_stunBullet">
                                    <param id="0" name="Instance variable">damage</param>
                                    <param id="1" name="Value">playerDictionary.Get(&quot;stunDamage&quot;) * skillBoostDamageMult</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="612884429722989">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="778797959143507" type="proj_stunBullet">
                                    <param id="0" name="Instance variable">isFired</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-4" name="Set position to another object" sid="361621509964701" type="stunBulletEffects">
                                    <param id="0" name="Object">proj_stunBullet</param>
                                    <param id="1" name="Image point (optional)">0</param>
                                </action>
                                <action id="-22" name="Set angle toward position" sid="451959725070623" type="stunBulletEffects">
                                    <param id="0" name="X">Mouse.X(&quot;Game&quot;)</param>
                                    <param id="1" name="Y">Mouse.Y(&quot;Game&quot;)</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="397268828979371">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="761700789019066" type="System">
                                            <param id="0" name="First value">stunAOE</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Second value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="720691646742338">
                                            <conditions>
                                                <condition id="0" name="On collision with another object" sid="683309630410753" type="enemyMinions">
                                                    <param id="0" name="Object">proj_stunBullet</param>
                                                </condition>
                                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="330494423250691" type="enemyMinions">
                                                    <param id="0" name="Instance variable">notActuallyEnemy</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-12" name="Subtract from" sid="606330603749697" type="enemyMinions">
                                                    <param id="0" name="Instance variable">curHealth</param>
                                                    <param id="1" name="Value">proj_stunBullet.damage</param>
                                                </action>
                                                <action behavior="Timer" id="0" name="Start timer" sid="915089971909758" type="enemyMinions">
                                                    <param id="0" name="Duration">playerDictionary.Get(&quot;stunDuration&quot;)</param>
                                                    <param id="1" name="Type">0</param>
                                                    <param id="2" name="Tag">&quot;stunDuration&quot;</param>
                                                </action>
                                                <action id="-13" name="Set boolean" sid="285087570192133" type="enemyMinions">
                                                    <param id="0" name="Instance variable">isStunned</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action id="-9" name="Destroy" sid="182377120989301" type="proj_stunBullet" />
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <event-block sid="635280876229535">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="301205626621708" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="305937803625539">
                                            <conditions>
                                                <condition id="-11" name="For Each" sid="565851458539038" type="System">
                                                    <param id="0" name="Object">enemyMinions</param>
                                                </condition>
                                                <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="902887097514800" type="enemyMinions">
                                                    <param id="0" name="Instance variable">notActuallyEnemy</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-12" name="Subtract from" sid="423957469968702" type="enemyMinions">
                                                    <param id="0" name="Instance variable">curHealth</param>
                                                    <param id="1" name="Value">proj_stunBullet.damage</param>
                                                </action>
                                                <action behavior="Timer" id="0" name="Start timer" sid="625526520083545" type="enemyMinions">
                                                    <param id="0" name="Duration">playerDictionary.Get(&quot;stunDuration&quot;)</param>
                                                    <param id="1" name="Type">0</param>
                                                    <param id="2" name="Tag">&quot;stunDuration&quot;</param>
                                                </action>
                                                <action id="-13" name="Set boolean" sid="416944945680256" type="enemyMinions">
                                                    <param id="0" name="Instance variable">isStunned</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action id="-9" name="Destroy" sid="394239240054974" type="proj_stunBullet" />
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <event-group description="Lobs a powerful AOE attack" sid="983548966437753" title="Fireball">
                    <sub-events>
                        <event-block sid="873671641283398">
                            <conditions>
                                <condition id="1" name="Compare progress" sid="511578685610971" type="ui_4skillbar">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="Value">100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="3" name="Set progress" sid="437919019735132" type="ui_4skillbar">
                                    <param id="0" name="Value">Function.Call(&quot;skillUI&quot;, ui_4skillbar.Progress, playerDictionary.Get(&quot;fireballCooldown&quot;))</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>when button is held, show a targetting line</comment>
                        <event-block sid="337559273668253">
                            <conditions>
                                <condition id="5" name="Key code is down" sid="444492366118043" type="Keyboard">
                                    <param id="0" name="Keycode">keyboard_skill_4</param>
                                </condition>
                                <condition id="1" name="Compare progress" sid="877462984692404" type="ui_4skillbar">
                                    <param id="0" name="Comparison">5</param>
                                    <param id="1" name="Value">100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="237177262615198" type="obj_playerMage">
                                    <param id="0" name="Object">proj_fireball</param>
                                    <param id="1" name="Layer">&quot;Game&quot;</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action id="-22" name="Set angle toward position" sid="100076157455051" type="proj_fireball">
                                    <param id="0" name="X">Mouse.X(&quot;Game&quot;)</param>
                                    <param id="1" name="Y">Mouse.Y(&quot;Game&quot;)</param>
                                </action>
                                <action id="-10" name="Set value" sid="332859738806412" type="proj_fireball">
                                    <param id="0" name="Instance variable">distToTarget</param>
                                    <param id="1" name="Value">distance(Mouse.X(&quot;Game&quot;),Mouse.Y(&quot;Game&quot;),Self.X,Self.Y)</param>
                                </action>
                                <action behavior="Sine" id="1" name="Set period" sid="614054431124938" type="proj_fireball">
                                    <param id="0" name="Period">(Self.distToTarget / Self.Bullet.Speed) * 2</param>
                                </action>
                                <action behavior="Sine" id="2" name="Set magnitude" sid="110736239863260" type="proj_fireball">
                                    <param id="0" name="Magnitude">100 /  (1/Self.Sine.Period)</param>
                                </action>
                                <action id="0" name="Spawn another object" sid="449777258418701" type="proj_fireball">
                                    <param id="0" name="Object">vfx_fireballShadow</param>
                                    <param id="1" name="Layer">&quot;Game&quot;</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action id="-22" name="Set angle toward position" sid="467518752429899" type="vfx_fireballShadow">
                                    <param id="0" name="X">Mouse.X(&quot;Game&quot;)</param>
                                    <param id="1" name="Y">Mouse.Y(&quot;Game&quot;)</param>
                                </action>
                                <action behavior="Bullet" id="0" name="Set speed" sid="726175520963659" type="vfx_fireballShadow">
                                    <param id="0" name="Speed">proj_fireball.Bullet.Speed</param>
                                </action>
                                <action id="3" name="Set progress" sid="245509590066617" type="ui_4skillbar">
                                    <param id="0" name="Value">0</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="474211520296136">
                                    <conditions>
                                        <condition behavior="Sine" id="3" name="Compare magnitude" sid="334777429149300" type="proj_fireball">
                                            <param id="0" name="Comparison">4</param>
                                            <param id="1" name="Value">300</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="Sine" id="2" name="Set magnitude" sid="324502860598040" type="proj_fireball">
                                            <param id="0" name="Magnitude">300</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>when button is released</comment>
                        <event-block sid="456848271633872">
                            <conditions>
                                <condition id="-18" name="On created" sid="525675505098340" type="proj_fireball" />
                            </conditions>
                            <actions>
                                <action id="-13" name="Set boolean" sid="524306846263853" type="proj_fireball">
                                    <param id="0" name="Instance variable">isFired</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="301423201300615">
                            <conditions>
                                <condition behavior="Bullet" id="1" name="Compare distance travelled" sid="227621212202868" type="proj_fireball">
                                    <param id="0" name="Comparison">5</param>
                                    <param id="1" name="Distance">Self.distToTarget</param>
                                </condition>
                                <condition id="-8" name="Is boolean instance variable set" sid="309091967467238" type="proj_fireball">
                                    <param id="0" name="Instance variable">isFired</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="391508008668353" type="proj_fireball">
                                    <param id="0" name="Object">par_fireballExplo</param>
                                    <param id="1" name="Layer">&quot;Game&quot;</param>
                                    <param id="2" name="Image point">0</param>
                                </action>
                                <action id="4" name="Set speed" sid="255656720091453" type="par_fireballExplo">
                                    <param id="0" name="Speed">Self.InitSpeed * fireballDamageMult</param>
                                </action>
                                <action id="5" name="Set size" sid="199406562286559" type="par_fireballExplo">
                                    <param id="0" name="Size">Self.InitSize * fireballDamageMult</param>
                                </action>
                                <action behavior="Bullet" id="0" name="Set speed" sid="290809225349295" type="proj_fireball">
                                    <param id="0" name="Speed">0</param>
                                </action>
                                <action id="-16" name="Set opacity" sid="554770363546917" type="proj_fireball">
                                    <param id="0" name="Opacity">0</param>
                                </action>
                                <action id="9" name="Set scale" sid="212250555228402" type="proj_fireball">
                                    <param id="0" name="Scale">10 * fireballDamageMult</param>
                                </action>
                                <action id="-13" name="Set boolean" sid="595069883983819" type="proj_fireball">
                                    <param id="0" name="Instance variable">isExploded</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="155153046822932">
                                    <conditions>
                                        <condition id="0" name="On collision with another object" sid="262228814480104" type="enemyMinions">
                                            <param id="0" name="Object">proj_fireball</param>
                                        </condition>
                                        <condition id="-8" inverted="1" name="Is boolean instance variable set" sid="231472901822653" type="enemyMinions">
                                            <param id="0" name="Instance variable">notActuallyEnemy</param>
                                        </condition>
                                        <condition id="-8" name="Is boolean instance variable set" sid="632591530888443" type="proj_fireball">
                                            <param id="0" name="Instance variable">isExploded</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-12" name="Subtract from" sid="991931314204934" type="enemyMinions">
                                            <param id="0" name="Instance variable">curHealth</param>
                                            <param id="1" name="Value">(playerDictionary.Get(&quot;fireballDamage&quot;) * skillBoostDamageMult) * fireballDamageMult</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="675650239804877">
                                    <conditions>
                                        <condition id="-8" name="Is boolean instance variable set" sid="976175935931537" type="proj_fireball">
                                            <param id="0" name="Instance variable">isExploded</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action behavior="ScrollTo" id="0" name="Shake" sid="637358738010185" type="playableCharacters">
                                            <param id="0" name="Magnitude">20 * fireballDamageMult</param>
                                            <param id="1" name="Duration">0.6 * fireballDamageMult</param>
                                            <param id="2" name="Mode">0</param>
                                        </action>
                                        <action id="0" name="Play" sid="508705136199689" type="Audio">
                                            <param id="0" name="Audio file">fireballExplosion</param>
                                            <param id="2" name="Loop">0</param>
                                            <param id="3" name="Volume">0</param>
                                            <param id="1" name="Tag (optional)">&quot;&quot;</param>
                                        </action>
                                        <action id="-9" name="Destroy" sid="235750461615315" type="proj_fireball" />
                                        <action id="-9" name="Destroy" sid="969536455842494" type="vfx_fireballShadow" />
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-group description="" sid="465410491941779" title="Mage Stats ">
            <sub-events>
                <event-block sid="134948711200057">
                    <conditions>
                        <condition id="-14" name="Pick by unique ID" sid="471595209434944" type="ui_health">
                            <param id="0" name="Unique ID">125</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-5" name="Set width" sid="727249389688443" type="ui_health">
                            <param id="0" name="Width">Self.maxSize * (playableCharacters.curHealth / playableCharacters.maxHealth)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="317168675380020" title="Mage Special Effects">
            <sub-events>
                <event-block sid="450061813250307">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="619025402909118" type="System">
                            <param id="0" name="First value">isBetweenWaves</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">1</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="217314855060519">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="516637394189216" type="System">
                                    <param id="0" name="First value">enableHealthRecovery</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">1</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="985338901869564">
                                    <conditions>
                                        <condition id="-8" name="Compare two values" sid="996505462858836" type="System">
                                            <param id="0" name="First value">playableCharacters.curHealth</param>
                                            <param id="1" name="Comparison">5</param>
                                            <param id="2" name="Second value">playableCharacters.maxHealth</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-10" name="Set value" sid="545379989881553" type="playableCharacters">
                                            <param id="0" name="Instance variable">curHealth</param>
                                            <param id="1" name="Value">Self.maxHealth</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="186699983445171">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="336373259087196" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-11" name="Add to" sid="619971093604432" type="playableCharacters">
                                            <param id="0" name="Instance variable">curHealth</param>
                                            <param id="1" name="Value">2 * dt</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Lighting Effect</comment>
                <event-block disabled="1" sid="673252777380462">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="217998931239963" type="System">
                            <param id="0" name="Variable">nightTime</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="735667246467455">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="306472374190342" type="System" />
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="439931065210934" type="System">
                                    <param id="0" name="Object to create">lightSource</param>
                                    <param id="1" name="Layer">&quot;Nightshader&quot;</param>
                                    <param id="2" name="X">playableCharacters.X</param>
                                    <param id="3" name="Y">playableCharacters.Y</param>
                                </action>
                                <action id="-10" name="Set value" sid="547816136733247" type="playableCharacters">
                                    <param id="0" name="Instance variable">lightingID</param>
                                    <param id="1" name="Value">lightSource.UID</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="166815373716043">
                            <conditions>
                                <condition id="-1" name="Every tick" sid="501451725528950" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="379201120773416">
                                    <conditions>
                                        <condition id="-14" name="Pick by unique ID" sid="835092503052895" type="lightSource">
                                            <param id="0" name="Unique ID">playableCharacters.lightingID</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Set position" sid="196911402671313" type="lightSource">
                                            <param id="0" name="X">playableCharacters.X</param>
                                            <param id="1" name="Y">playableCharacters.Y</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block disabled="1" sid="846942843221833">
                    <conditions>
                        <condition id="-22" name="Else" sid="744565056791228" type="System" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="444171484819481">
                            <conditions>
                                <condition id="-14" name="Pick by unique ID" sid="847991126354723" type="lightSource">
                                    <param id="0" name="Unique ID">playableCharacters.lightingID</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="544118009131213" type="lightSource" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-block sid="837012263818872">
            <conditions>
                <condition id="0" name="On function" sid="558334219659371" type="Function">
                    <param id="0" name="Name">&quot;enablePlayerAttack&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="-12" name="Set group active" sid="330577133494815" type="System">
                    <param id="0" name="Group name">&quot;Mage Attack&quot;</param>
                    <param id="1" name="State">1</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="494045477076559">
            <conditions>
                <condition id="0" name="On function" sid="693051373461436" type="Function">
                    <param id="0" name="Name">&quot;levelUp&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="264611236336044">
                    <conditions />
                    <actions>
                        <action id="-11" name="Add to" sid="867216020891686" type="playableCharacters">
                            <param id="0" name="Instance variable">curLevel</param>
                            <param id="1" name="Value">Function.Param(0)</param>
                        </action>
                        <action id="-11" name="Add to" sid="742754406134583" type="playableCharacters">
                            <param id="0" name="Instance variable">curHealth</param>
                            <param id="1" name="Value">playerDictionary.Get(&quot;healthPerLevel&quot;) * Function.Param(0)</param>
                        </action>
                        <action id="-10" name="Set value" sid="322445571714337" type="playableCharacters">
                            <param id="0" name="Instance variable">maxHealth</param>
                            <param id="1" name="Value">playerDictionary.Get(&quot;defHealth&quot;) + (playerDictionary.Get(&quot;healthPerLevel&quot;) * Self.curLevel)</param>
                        </action>
                        <action id="1" name="Set key" sid="571514347812425" type="playerDictionary">
                            <param id="0" name="Key">&quot;autoDamage&quot;</param>
                            <param id="1" name="Value">Self.Get(&quot;autoDamage&quot;) + (Function.Param(0) * Self.Get(&quot;autoDamagePerLevel&quot;))</param>
                        </action>
                        <action id="-10" name="Add to" sid="337379902972157" type="System">
                            <param id="0" name="Variable">cooldownMult</param>
                            <param id="1" name="Value">2</param>
                        </action>
                        <action id="-10" name="Add to" sid="417120799732945" type="System">
                            <param id="0" name="Variable">skillBoostDamageMult</param>
                            <param id="1" name="Value">0.02 * Function.Param(0)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="402454483432166">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="881182393143943" type="System">
                                    <param id="0" name="First value">playerDictionary.Get(&quot;autoCooldown&quot;)</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set key" sid="912673250961117" type="playerDictionary">
                                    <param id="0" name="Key">&quot;autoCooldown&quot;</param>
                                    <param id="1" name="Value">playerDictionary.Get(&quot;autoCooldown&quot;) - 1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="132900271893024">
                            <conditions>
                                <condition id="-22" name="Else" sid="974647216428980" type="System" />
                            </conditions>
                            <actions>
                                <action id="1" name="Set key" sid="277677946837464" type="playerDictionary">
                                    <param id="0" name="Key">&quot;autoCooldown&quot;</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="537212261878859">
            <conditions>
                <condition id="0" name="On function" sid="478039322770671" type="Function">
                    <param id="0" name="Name">&quot;damageHealthPlayer&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="621373949328977">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="428926448018453" type="playableCharacters">
                            <param id="0" name="Instance variable">curHealth</param>
                            <param id="1" name="Comparison">4</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-12" name="Subtract from" sid="503666800064129" type="playableCharacters">
                            <param id="0" name="Instance variable">curHealth</param>
                            <param id="1" name="Value">Function.Param(0)</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="316645892960401">
                    <conditions>
                        <condition id="-22" name="Else" sid="469727142461183" type="System" />
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="852576578023520" type="playableCharacters">
                            <param id="0" name="Instance variable">curHealth</param>
                            <param id="1" name="Value">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="512810468018019">
            <conditions>
                <condition id="0" name="On function" sid="860387120848067" type="Function">
                    <param id="0" name="Name">&quot;updatePlayerInventory&quot;</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Add to" sid="888470196477094" type="System">
                    <param id="0" name="Variable">itemCostMult</param>
                    <param id="1" name="Value">0.2</param>
                </action>
                <action id="0" name="Call function" sid="619270178380589" type="Function">
                    <param id="0" name="Name">&quot;updateItemCosts&quot;</param>
                    <param id="1" name="Parameter {n}"></param>
                </action>
            </actions>
            <sub-events>
                <comment>Book of Enlighten</comment>
                <event-block sid="464155959628852">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="535859972658008" type="System">
                            <param id="0" name="First value">Function.Param(0)</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">1</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Add to" sid="795294545595150" type="System">
                            <param id="0" name="Variable">skillBoostDamageMult</param>
                            <param id="1" name="Value">0.2</param>
                        </action>
                        <action id="-9" name="Set value" sid="900600656326870" type="System">
                            <param id="0" name="Variable">piercingDamageReducedMult</param>
                            <param id="1" name="Value">1.1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Chalice</comment>
                <event-block sid="422240926289544">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="239042957979291" type="System">
                            <param id="0" name="First value">Function.Param(0)</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">2</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Add to" sid="715213461072852" type="System">
                            <param id="0" name="Variable">skillBoostDamageMult</param>
                            <param id="1" name="Value">0.25</param>
                        </action>
                        <action id="-9" name="Set value" sid="899637538662460" type="System">
                            <param id="0" name="Variable">enableHealthRecovery</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Hourglass</comment>
                <event-block sid="301998286784652">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="208325007647805" type="System">
                            <param id="0" name="First value">Function.Param(0)</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">3</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Add to" sid="705043186209019" type="System">
                            <param id="0" name="Variable">skillBoostDamageMult</param>
                            <param id="1" name="Value">0.3</param>
                        </action>
                        <action id="-10" name="Add to" sid="714335979408177" type="System">
                            <param id="0" name="Variable">cooldownMult</param>
                            <param id="1" name="Value">20</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="488590207967791">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="998592630299138" type="System">
                                    <param id="0" name="First value">playerDictionary.Get(&quot;autoCooldown&quot;) - 5</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="1" name="Set key" sid="527458652260501" type="playerDictionary">
                                    <param id="0" name="Key">&quot;autoCooldown&quot;</param>
                                    <param id="1" name="Value">playerDictionary.Get(&quot;autoCooldown&quot;) - 5</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="773640065774333">
                            <conditions>
                                <condition id="-22" name="Else" sid="135662903456656" type="System" />
                            </conditions>
                            <actions>
                                <action id="1" name="Set key" sid="543562813199333" type="playerDictionary">
                                    <param id="0" name="Key">&quot;autoCooldown&quot;</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment>Sorcerers Cap</comment>
                <event-block sid="392576842663787">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="721194329520930" type="System">
                            <param id="0" name="First value">Function.Param(0)</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">4</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Add to" sid="707548372626989" type="System">
                            <param id="0" name="Variable">skillBoostDamageMult</param>
                            <param id="1" name="Value">0.35</param>
                        </action>
                        <action id="-9" name="Set value" sid="789157788902196" type="System">
                            <param id="0" name="Variable">stunAOE</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Catalyst</comment>
                <event-block sid="800613508230352">
                    <conditions>
                        <condition id="-8" name="Compare two values" sid="754040429819383" type="System">
                            <param id="0" name="First value">Function.Param(0)</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">5</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Add to" sid="961028489214932" type="System">
                            <param id="0" name="Variable">skillBoostDamageMult</param>
                            <param id="1" name="Value">0.4</param>
                        </action>
                        <action id="-9" name="Set value" sid="263853636881959" type="System">
                            <param id="0" name="Variable">fireballDamageMult</param>
                            <param id="1" name="Value">1.25</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="895179844600372">
            <conditions>
                <condition id="-14" name="Compare variable" sid="797678727716981" type="System">
                    <param id="0" name="Variable">isGameOver</param>
                    <param id="1" name="Comparison">0</param>
                    <param id="2" name="Value">1</param>
                </condition>
            </conditions>
            <actions>
                <action id="-15" name="Set visible" sid="600809367697655" type="playableCharacters">
                    <param id="0" name="Visibility">0</param>
                </action>
                <action id="-12" name="Set group active" sid="431972933330612" type="System">
                    <param id="0" name="Group name">&quot;Mage Attack&quot;</param>
                    <param id="1" name="State">0</param>
                </action>
                <action id="-12" name="Set group active" sid="428113308811576" type="System">
                    <param id="0" name="Group name">&quot;Mage Skills&quot;</param>
                    <param id="1" name="State">0</param>
                </action>
                <action id="-12" name="Set group active" sid="842448474158812" type="System">
                    <param id="0" name="Group name">&quot;Mage Movement&quot;</param>
                    <param id="1" name="State">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="636668333194814">
            <conditions>
                <condition id="0" name="On function" sid="629401194488166" type="Function">
                    <param id="0" name="Name">&quot;updateItemCosts&quot;</param>
                </condition>
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="182014704869301">
                    <conditions>
                        <condition id="-11" name="For Each" sid="494149634429150" type="System">
                            <param id="0" name="Object">playableItems</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="873925559168833" type="playableItems">
                            <param id="0" name="Instance variable">itemCost</param>
                            <param id="1" name="Value">floor(Self.itemCost * itemCostMult)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
    </events>
</c2eventsheet>
